function marianneCollapseMenuOnClickOutside(e){document.getElementById("menu-primary").contains(e.target)||document.getElementById("menu-primary").querySelectorAll(".sub-menu-toggle").forEach(function(e){e.setAttribute("aria-expanded","false")})}function marianneToggleAriaExpanded(e,t){"true"!==e.getAttribute("aria-expanded")?(e.setAttribute("aria-expanded","true"),t&&document.addEventListener("click",marianneCollapseMenuOnClickOutside)):(e.setAttribute("aria-expanded","false"),t&&document.addEventListener("click",marianneCollapseMenuOnClickOutside))}function marianneExpandSubMenu(e){window.matchMedia("(min-width: 500px)").matches?(e.closest("nav").querySelectorAll(".sub-menu-toggle").forEach(function(t){t!==e&&t.setAttribute("aria-expanded","false")}),marianneToggleAriaExpanded(e,!0),e.parentNode.querySelectorAll("ul > li:last-child > a").forEach(function(t){t.addEventListener("blur",function(t){e.parentNode.contains(t.relatedTarget)||e.setAttribute("aria-expanded","false")})})):$(".sub-menu-toggle").removeAttr("aria-haspopup").removeAttr("aria-expanded")}!function(e){e("#menu-mobile-button").click(function(){e("#menu-primary-container").slideToggle(200)}),e("#menu-primary .menu-item").each(function(t,n){e(n).children("a").attr("role","menu-item"),e(n).children("a").attr("tabindex","-1")}),window.matchMedia("(min-width: 500px)").matches?e("#menu-primary .menu-item-has-children").hover(function(){e(this).find(".sub-menu-toggle").attr("aria-expanded","true")},function(){e(this).find(".sub-menu-toggle").attr("aria-expanded","false")}):e(".sub-menu-toggle").removeAttr("aria-haspopup").removeAttr("aria-expanded")}(jQuery);
